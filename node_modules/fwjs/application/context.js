/*
 * Context of request execution.
 */

var context = function(application, request, response){
    this.app = application;
    this.request=request;
    this.response=response;
    this._params = {};
};

context.prototype.setParams = function(params){
    this._params = params;
    return this;
};

context.prototype.getParam = function(name){
    return this._params[name];
};

context.prototype.requestIp = function(){
    return (this.request.headers['x-forwarded-for'] || '').split(',')[0] 
        || this.request.connection.remoteAddress;
};

module.exports = context;


