

var adapter = function(application){
    this.app = application;
    if( !this.app._memorystore )
        this.app._memorystore = {};
};

adapter.prototype.exist = function( key, next ){
    next( this.app._memorystore[key]?true:false );
};

adapter.prototype.create = function( key, data, next){
    this.app._memorystore[key] = data;
    next(true);
};

adapter.prototype.destroy = function( key, next ){
    delete(this.app._memorystore[key]);
    next(true);
};

adapter.prototype.setValue = function( key, vname, value, next){
    this.app._memorystore[key][vname] = value;
    next(true);
};

adapter.prototype.getValue = function( key, vname ){
    return this.app._memorystore[key][vname];
};

module.exports = adapter;